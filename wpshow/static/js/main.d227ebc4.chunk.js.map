{"version":3,"sources":["i18n.js","components/PageCarousel.js","components/Waiting.js","components/Categories.js","components/Tags.js","components/Posts.js","components/Pages.js","components/Dates.js","components/CarouselOptions.js","components/Settings.js","components/Header.js","components/ActionButtons.js","components/Footer.js","App.js","serviceWorker.js","index.js"],"names":["i18n","use","LngDetector","initReactI18next","init","detection","order","resources","en","translation","title","desc1","desc2","desc3","desc4","url","connect","error","loading","date_range","initial_date","end_date","first_date","date_err1","categories","categories_select_all","categories_selected","tags","tags_select_all","tags_selected","posts","posts_select_all","posts_selected","pages","pages_select_all","pages_selected","show_options","selected_elements","selected_elements_plural","timelapse","seconds","random","include_category_pages","include_tag_pages","start","export","copyright","license","ca","es","fallbackLng","interpolation","escapeValue","PageCarousel","_ref","urls","interval","_useState","useState","_useState2","Object","slicedToArray","currentPage","setCurrentPage","window","setTimeout","length","react_default","a","createElement","className","name","allowFullScreen","src","onLoad","scrollTo","Waiting","t","CircularProgress_default","Categories","conf","selectPostsByDateAndCategory","_React$useState","React","_React$useState2","allCategories","setAllCategories","FormControlLabel_default","control","Checkbox_default","checked","onChange","forEach","cat","selected","label","List_default","component","map","i","ListItem_default","key","onClick","category","ListItemText_default","dangerouslySetInnerHTML","__html","Typography_default","variant","filter","Tags","allTags","setAllTags","handleListClick","tag","Posts","countUrls","allPosts","setAllPosts","post","inRange","primary","rendered","secondary","modified","toLocaleString","Pages","allPages","setAllPages","page","Dates","setConf","dateFrom","dateTo","dateFirst","handleDateChange","whichDate","moment","from","toDate","to","objectSpread","err","material_ui_pickers_esm","utils","DateMomentUtils","locale","language","keyboard","format","disableOpenOnEnter","value","toLocaleDateString","CarouselOptions","handleSwitchChange","ev","defineProperty","target","id","count","numUrls","TextField_default","type","InputLabelProps","shrink","v","InputProps","endAdornment","InputAdornment_default","position","Switch_default","randomOrder","includeCategoryPages","includeTagPages","Settings","checkSite","Paper_default","wpSite","margin","Button_default","color","disabled","validator","isURL","components_Waiting","concat","components_Dates","components_Categories","components_Tags","components_Posts","components_Pages","components_CarouselOptions","Header","props","Lang","code","changeLanguage","alt","ActionButtons","saveSettings","getUrls","setPlaying","content","JSON","stringify","replace","blob","Blob","navigator","msSaveBlob","link","document","undefined","download","URL","createObjectURL","setAttribute","style","visibility","body","appendChild","click","removeChild","SaveAlt_default","PlayArrow_default","Footer","href","repository","version","STORED_VALUES","parse","localStorage","getItem","App","useTranslation","ready","Date","now","_useState3","_useState4","playing","apiQuery","base","query","fields","result","arguments","pageSize","f","join","console","log","next","fetchJsonp","jsonpCallback","timeout","then","response","ok","Error","statusText","handleFetchErrors","json","data","headers","push","apply","toConsumableArray","catch","shuffle","updateConf","doCountUrls","array","currentIndex","randomIndex","Math","floor","temporaryValue","components_Header","components_Settings","endsWith","substr","Promise","all","sort","b","assign","sss","set","el","includes","firstDate","status","message","activeCategories","activeTags","components_ActionButtons","getTime","e","setItem","components_Footer","components_PageCarousel","Boolean","location","hostname","match","ReactDOM","render","src_App","getElementById","serviceWorker","registration","unregister"],"mappings":"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","file":"static/js/main.d227ebc4.chunk.js","sourcesContent":["\nimport i18n from 'i18next';\nimport LngDetector from 'i18next-browser-languagedetector';\nimport { initReactI18next } from 'react-i18next';\n\ni18n\n  .use(LngDetector)\n  .use(initReactI18next)\n  .init({\n    detection: {\n      order: ['querystring', 'localStorage', 'navigator'],\n    },\n    resources: {\n      en: {\n        translation: {\n          title: \"Carousel of WordPress posts and pages\",\n          desc1: \"This app displays a carousel of posts and pages of any website running with WordPress, like XTEC-Blocs or Àgora-Nodes.\",\n          desc2: \"Enter the main URL of the website to show, wait for data loading (can be long!) and adjust parameters like time range, categories, labels or pages to be shown. You can also check or uncheck each post or page individually to indicate if they must be included on the carousel.\",\n          desc3: \"Once you have selected the desired content, indicate the time lapse to wait between pages, and if you want to show the pages randomly or ordered by date of publication.\",\n          desc4: \"Finally, click on \\\"Create an HTML file\\\" to obtain an autonomous file ready to be opened at any moment, or on \\\"Start show\\\" to see the pages automatically appearing on the main window. Use F11 if you want to display this main window at full screen size.\",\n          url: \"Site URL\",\n          connect: \"Connect\",\n          error: \"Error\",\n          loading: \"Loading site data...\",\n          date_range: \"Date range for posts\",\n          initial_date: \"Initial date\",\n          end_date: \"End date\",\n          first_date: \"Date of first post is:\",\n          date_err1: \"Error: The start date must be before or equal to the end date\",\n          categories: \"Categories\",\n          categories_select_all: \"Select all categories\",\n          categories_selected: \"selected categories\",\n          tags: \"Tags\",\n          tags_select_all: \"Select all tags\",\n          tags_selected: \"selected tags\",\n          posts: \"Posts\",\n          posts_select_all: \"Select all posts\",\n          posts_selected: \"selected posts\",\n          pages: \"Pages\",\n          pages_select_all: \"Select all pages\",\n          pages_selected: \"selected pages\",\n          show_options: \"Show options\",\n          selected_elements: \"You have selected {{count}} item to display.\",\n          selected_elements_plural: \"You have selected {{count}} items to display.\",\n          timelapse: \"Time between pages\",\n          seconds: \"seconds\",\n          random: \"Show pages and posts in random order\",\n          include_category_pages: \"Include category pages (courses, groups, sections...)\",\n          include_tag_pages: \"Include tag pages (projects, activities, campaigns...)\",\n          start: \"Start showing\",\n          export: \"Create an HTML file\",\n          copyright: \"© 2019 Catalonia's Education Telematic Network (XTEC)\",\n          license: \"European Union Public License\",          \n        },\n      },\n      ca: {\n        translation: {\n          title: \"Carrusel d'articles i pàgines WordPress\",\n          desc1: \"Aquesta aplicació permet mostrar de manera automàtica el contingut d'un lloc web que funcioni amb WordPress, com ara XTEC-Blocs o Àgora-Nodes.\",\n          desc2: \"Introduïu l'URL del lloc web que vulgueu mostrar, espereu que es carreguin les dades (pot trigar!) i seleccioneu paràmetres com ara el rang de dates, les categories, etiquetes o pàgines que vulgueu mostrar. També podeu marcar i desmarcar individualment cada un dels articles i pàgines per indicar si han d'aparèixer al carrusel.\",\n          desc3: \"Un cop seleccionat el contingut a mostrar indiqueu el temps d'espera entre una pàgina i la següent, així com si voleu que es mostrin les pàgines a l'atzar o bé ordenades per data de publicació.\",\n          desc4: \"Finalment, feu clic al botó \\\"Crea un fitxer HTML\\\" per obtenir un fitxer autònom que podreu obrir en qualsevol moment, o a \\\"Inicia la presentació\\\" per veure com les pàgines es van mostrant de manera automàtica a la finestra principal, que podeu posar en mode de pantalla completa amb la tecla F11.\",\n          url: \"URL del lloc web\",\n          connect: \"Connecta\",\n          error: \"Error\",\n          loading: \"S'estan descarregant les dades del lloc...\",\n          date_range: \"Interval de dates per als articles\",\n          initial_date: \"Data inicial\",\n          end_date: \"Data final\",\n          first_date: \"La data del primer article és:\",\n          date_err1: \"Error: La data inicial ha de ser anterior o igual a la final\",\n          categories: \"Categories\",\n          categories_select_all: \"Selecciona totes les categories\",\n          categories_selected: \"categories seleccionades\",\n          tags: \"Etiquetes\",\n          tags_select_all: \"Selecciona totes les etiquetes\",\n          tags_selected: \"etiquetes seleccionades\",\n          posts: \"Articles\",\n          posts_select_all: \"Selecciona tots els articles\",\n          posts_selected: \"articles seleccionats\",\n          pages: \"Pàgines\",\n          pages_select_all: \"Selecciona totes les pàgines\",\n          pages_selected: \"pàgines seleccionades\",\n          show_options: \"Presentació\",\n          selected_elements: \"Heu seleccionat {{count}} element per mostrar.\",\n          selected_elements_plural: \"Heu seleccionat {{count}} elements per mostrar.\",\n          timelapse: \"Temps entre pàgines\",\n          seconds: \"segons\",\n          random: \"Mostra les pàgines i els articles en ordre aleatori\",\n          include_category_pages: \"Mostra les pàgines de les categories (cursos, grups, seccions...)\",\n          include_tag_pages: \"Mostra les pàgines de les etiquetes (projectes, activitats, campanyes...)\",\n          start: \"Inicia la visualització\",\n          export: \"Crea un fitxer HTML\",\n          copyright: \"© 2019 Xarxa Telemàtica Educativa de Catalunya (XTEC)\",\n          license: \"Llicència Pública de la Unió Europea\",\n        },\n      },\n      es: {\n        translation: {\n          title: \"Carrusel de artículos y páginas WordPress\",\n          desc1: \"Esta aplicación permite mostrar de manera automática el conmtenido de un sitio web WordPress, como XTEC-Blocs o Àgora-Nodes.\",\n          desc2: \"Introduzca el URL del sitio que desee mostrar, espere a que se carguen los datos (puede tardar bastante!) y seleccione parámetros como el periodo de tiempo, las categorías, etiquetas o páginas que desee mostrar. También puede marcar y desmarcar individualmente cada uno de los artículos y páginas para indicar si deben aparecer o no en el carrusel.\",\n          desc3: \"Cuando haya seleccionado el contenido a mostrar indique el tiempo de espera entre una página y la sigüiente, así como si desea que se muestren las páginas al azar o bien ordenadas por fecha de publicación.\",\n          desc4: \"Finalmente, haga clic en el botón \\\"Crear un archivo HTML\\\" para obtener un archivo autónomo que podrá abrir en cualquier momento, o en \\\"Iniciar la presentación\\\" para ver como las páginas se van mostrando de manera automática en la ventana principal, que puede poner en modo de pantalla completa usando la tecla F11.\",\n          url: \"URL del sitio web\",\n          connect: \"Conectar\",\n          error: \"Error\",\n          loading: \"Se están descargando los datos del sitio...\",\n          date_range: \"Intervalo de fechas para los artículos\",\n          initial_date: \"Fecha inicial\",\n          end_date: \"Fecha final\",\n          first_date: \"La fecha del primer artículo es:\",\n          date_err1: \"Error: La fecha inicial debe ser anterior o igual a la final\",\n          categories: \"Categorías\",\n          categories_select_all: \"Seleccionar todas las categorías\",\n          categories_selected: \"categorías seleccionadas\",\n          tags: \"Etiquetas\",\n          tags_select_all: \"Seleccionar todas las etiquetas\",\n          tags_selected: \"etiquetas seleccionadas\",\n          posts: \"Artículos\",\n          posts_select_all: \"Seleccionar todos los artículos\",\n          posts_selected: \"artículos seleccionados\",\n          pages: \"Páginas\",\n          pages_select_all: \"Seleccionar todas las páginas\",\n          pages_selected: \"páginas seleccionadas\",\n          show_options: \"Presentación\",\n          selected_elements: \"Ha seleccionado {{count}} elemento para mostrar.\",\n          selected_elements_plural: \"Ha seleccionado {{count}} elementos para mostrar.\",\n          timelapse: \"Tiempo entre páginas\",\n          seconds: \"segundos\",\n          random: \"Muestra las páginas y los artículos en orden aleatorio\",\n          include_category_pages: \"Muestra las páginas de categorías (cursos, grupos, secciones...)\",\n          include_tag_pages: \"Muestra las páginas de etiquetas (proyectos, actividades, campañas...)\",\n          start: \"Iniciar la visualización\",\n          export: \"Crear un archivo HTML\",\n          copyright: \"© 2019 Red Telemática Educativa de Cataluña (XTEC)\",\n          license: \"Licencia Pública de la Unión Europea\",\n\n        },\n      },\n    },\n    fallbackLng: 'en',\n    interpolation: {\n      escapeValue: false,\n    },\n  });\n\nexport default i18n;","import React, { useState } from 'react';\n\nfunction PageCarousel({ urls, interval }) {\n\n  // Hook for tracking the current page index\n  const [currentPage, setCurrentPage] = useState(0);\n\n  // Prepare the next page\n  window.setTimeout(() => {\n    setCurrentPage((currentPage + 1) % urls.length);\n  }, interval * 1000);\n\n  return (\n    <div className=\"fullFrame\">\n      <iframe\n        className=\"pageView\"\n        name=\"view\"\n        title=\"Page view\"\n        allowFullScreen={true}\n        src={urls[currentPage]}\n        onLoad={() => window.scrollTo(0, 0)}\n      >\n        <p>Your browser does not support iframes!</p>\n      </iframe>\n    </div>\n  );\n}\n\nexport default PageCarousel;\n","import React from 'react';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nfunction Waiting({ t }) {\n  return (\n    <div className=\"waiting\">\n      <h4>{t('loading')}</h4>\n      <CircularProgress className=\"wheel\" />\n    </div>\n  );\n}\n\nexport default Waiting;\n","import React from 'react';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Typography from '@material-ui/core/Typography';\n\nfunction Categories({ conf: { categories }, selectPostsByDateAndCategory, t }) {\n\n  const [allCategories, setAllCategories] = React.useState(false);\n\n  const handleListClick = category => () => {\n    category.selected = !category.selected;\n    if (!category.selected)\n      setAllCategories(false);\n    selectPostsByDateAndCategory();\n  }\n\n  const checkAllCategories = () => {\n    categories.forEach(cat => { cat.selected = !allCategories });\n    selectPostsByDateAndCategory();\n    setAllCategories(!allCategories);\n  }\n\n  return (\n    <div>\n      <h3>{t('categories')}</h3>\n      <FormControlLabel\n        control={\n          <Checkbox\n            checked={allCategories}\n            onChange={checkAllCategories}\n          />\n        }\n        label={t('categories_select_all')}\n      />\n      <List className=\"catList\" component=\"nav\">\n        {categories.map((cat, i) => (\n          <ListItem\n            key={i}\n            selected={cat.selected}\n            onClick={handleListClick(cat)}\n          >\n            <ListItemText>\n              <span dangerouslySetInnerHTML={{ __html: cat.name }} />\n            </ListItemText>\n          </ListItem>\n        ))}\n      </List>\n      <Typography variant=\"body2\">\n        {categories.filter(cat => cat.selected).length}/{categories.length} {t('categories_selected')}\n      </Typography>\n    </div>\n  );\n}\n\nexport default Categories;\n","import React from 'react';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Typography from '@material-ui/core/Typography';\n\nfunction Tags({ conf: { tags }, selectPostsByDateAndCategory, t }) {\n\n  const [allTags, setAllTags] = React.useState(false);\n\n  const handleListClick = tag => () => {\n    tag.selected = !tag.selected;\n    if (!tag.selected)\n      setAllTags(false);\n    selectPostsByDateAndCategory();\n  }\n\n  const checkAllTags = () => {\n    tags.forEach(tag => { tag.selected = !allTags });\n    selectPostsByDateAndCategory();\n    setAllTags(!allTags);\n  }\n\n  return (\n    <div>\n      <h3>{t('tags')}</h3>\n      <FormControlLabel\n        control={\n          <Checkbox\n            checked={allTags}\n            onChange={checkAllTags}\n          />\n        }\n        label={t('tags_select_all')}\n      />\n      <List className=\"catList\" component=\"nav\">\n        {tags.map((tag, i) => (\n          <ListItem\n            key={i}\n            selected={tag.selected}\n            onClick={handleListClick(tag)}\n          >\n            <ListItemText>\n              <span dangerouslySetInnerHTML={{ __html: tag.name }} />\n            </ListItemText>\n          </ListItem>\n        ))}\n      </List>\n      <Typography variant=\"body2\">\n        {tags.filter(tag => tag.selected).length}/{tags.length} {t('tags_selected')}\n      </Typography>\n    </div>\n  );\n}\n\nexport default Tags;\n","import React from 'react';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Typography from '@material-ui/core/Typography';\n\nfunction Posts({ conf: { posts }, countUrls, t }) {\n\n  const [allPosts, setAllPosts] = React.useState(false);\n\n  const handleListClick = post => () => {\n    post.selected = !post.selected;\n    if (!post.selected)\n      setAllPosts(false);\n    countUrls();\n  };\n\n  const checkAllPosts = () => {\n    posts.forEach(post => { post.selected = !allPosts });\n    countUrls();\n    setAllPosts(!allPosts);\n  };\n\n  return (\n    <div>\n      <h3>{t('posts')}</h3>\n      <FormControlLabel\n        control={\n          <Checkbox\n            checked={allPosts}\n            onChange={checkAllPosts}\n          />\n        }\n        label={t('posts_select_all')}\n      />\n      <List component=\"nav\" className=\"postList\">\n        {posts.filter(post => post.inRange).map((post, i) => (\n          <ListItem\n            key={i}\n            selected={post.selected}\n            onClick={handleListClick(post)}\n          >\n            <ListItemText\n              primary={<span dangerouslySetInnerHTML={{ __html: post.title.rendered }} />}\n              secondary={post.modified.toLocaleString()}\n            />\n          </ListItem>\n        ))}\n      </List>\n      <Typography variant=\"body2\">\n        {posts.filter(post => post.selected).length}/{posts.filter(post => post.inRange).length} {t('posts_selected')}\n      </Typography>\n    </div>\n  );\n}\n\nexport default Posts;\n","import React from 'react';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Typography from '@material-ui/core/Typography';\n\nfunction Pages({ conf: { pages }, countUrls, t }) {\n\n  const [allPages, setAllPages] = React.useState(false);\n\n  const handleListClick = page => () => {\n    page.selected = !page.selected;\n    if (!page.selected)\n      setAllPages(false);\n    countUrls();\n  }\n\n  const checkAllPages = () => {\n    pages.forEach(page => { page.selected = !allPages });\n    countUrls();\n    setAllPages(!allPages);\n  }\n\n  return (\n    <div>\n      <h3>{t('pages')}</h3>\n      <FormControlLabel\n        control={\n          <Checkbox\n            checked={allPages}\n            onChange={checkAllPages}\n          />\n        }\n        label={t('pages_select_all')}\n      />\n      <List className=\"pagesList\" component=\"nav\">\n        {pages.filter(page => page.inRange).map((page, i) => (\n          <ListItem\n            key={i}\n            selected={page.selected}\n            onClick={handleListClick(page)}\n          >\n            <ListItemText\n              primary={<span dangerouslySetInnerHTML={{ __html: page.title.rendered }} />}\n              secondary={page.modified.toLocaleString()}\n            />\n          </ListItem>\n        ))}\n      </List>\n      <Typography variant=\"body2\">\n        {pages.filter(page => page.inRange && page.selected).length}/{pages.filter(page => page.inRange).length} {t('pages_selected')}\n      </Typography>\n    </div>\n  );\n}\n\nexport default Pages;\n","import React from \"react\";\nimport DateMomentUtils from '@date-io/moment';\nimport \"moment/locale/ca\";\nimport \"moment/locale/es\";\nimport { MuiPickersUtilsProvider, DatePicker } from 'material-ui-pickers';\n\nfunction Dates({ conf, setConf, selectPostsByDateAndCategory, t, i18n }) {\n\n  const { dateFrom, dateTo, dateFirst } = conf;\n\n  const handleDateChange = whichDate => moment => {\n    const from = whichDate === 'from' ? moment.toDate() : dateFrom;\n    const to = whichDate === 'to' ? moment.toDate() : dateTo;\n    if (from > to)\n      setConf({ ...conf, err: t('date_err1') });\n    else {\n      selectPostsByDateAndCategory(from, to);\n    }\n  };\n\n  return (\n    <MuiPickersUtilsProvider utils={DateMomentUtils} locale={i18n.language}>\n      <div>\n        <h3>{t('date_range')}</h3>\n        <DatePicker\n          className=\"date\"\n          keyboard\n          label={t('initial_date')}\n          format=\"DD/MM/YYYY\"\n          disableOpenOnEnter\n          value={conf.dateFrom}\n          onChange={handleDateChange('from')}\n        />\n        <DatePicker\n          className=\"date\"\n          keyboard\n          label={t('end_date')}\n          format=\"DD/MM/YYYY\"\n          disableOpenOnEnter\n          value={conf.dateTo}\n          onChange={handleDateChange('to')}\n        />\n        <p className=\"dateFirstNote\">{t('first_date')} {dateFirst.toLocaleDateString()}</p>\n      </div>\n    </MuiPickersUtilsProvider>\n  );\n}\n\nexport default Dates;","import React from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Switch from '@material-ui/core/Switch';\n\nfunction CarouselOptions({ conf, setConf, t }) {\n\n  const handleIntervalChange = ev => {\n    const v = ev.target.value;\n    if (v > 0 && v < 100)\n      setConf({ ...conf, [ev.target.id]: v });\n  }\n\n  const handleSwitchChange = ev => {\n    setConf({ ...conf, [ev.target.id]: ev.target.checked === true });\n  }\n\n  return (\n    <div className=\"options\">\n      <h3>{t('show_options')}</h3>\n      <p>{t('selected_elements', { count: conf.numUrls })}</p>\n      <TextField\n        id=\"interval\"\n        label={t('timelapse')}\n        className=\"intervalInput\"\n        variant=\"outlined\"\n        type=\"number\"\n        value={conf.interval}\n        InputLabelProps={{\n          shrink: true,\n        }}\n        onChange={handleIntervalChange}\n        InputProps={{\n          endAdornment: <InputAdornment position=\"end\">{t('seconds')}</InputAdornment>\n        }}\n      />\n      <FormControlLabel\n        control={\n          <Switch\n            id='randomOrder'\n            checked={conf.randomOrder}\n            onChange={handleSwitchChange}\n          />\n        }\n        label={t('random')}\n      />\n      <FormControlLabel\n        control={\n          <Switch\n            id='includeCategoryPages'\n            checked={conf.includeCategoryPages}\n            onChange={handleSwitchChange}\n          />\n        }\n        label={t('include_category_pages')}\n      />\n      <FormControlLabel\n        control={\n          <Switch\n            id='includeTagPages'\n            checked={conf.includeTagPages}\n            onChange={handleSwitchChange}\n          />\n        }\n        label={t('include_tag_pages')}\n      />\n    </div>\n  );\n}\n\nexport default CarouselOptions;","import React from 'react';\nimport validator from 'validator';\nimport TextField from '@material-ui/core/TextField';\nimport Paper from '@material-ui/core/Paper';\nimport Button from '@material-ui/core/Button';\nimport Waiting from './Waiting';\nimport Categories from './Categories';\nimport Tags from './Tags';\nimport Posts from './Posts';\nimport Pages from './Pages';\nimport Dates from './Dates';\nimport CarouselOptions from './CarouselOptions';\n\nfunction Settings({ conf, setConf, checkSite, selectPostsByDateAndCategory, countUrls, t, i18n }) {\n\n  const handleChange = ev => setConf({ ...conf, [ev.target.id]: ev.target.value })\n\n  return (\n    <Paper className=\"main\">\n      <div className=\"sitePrompt\">\n        <TextField\n          id=\"wpSite\"\n          label={t('url')}\n          value={conf.wpSite}\n          onChange={handleChange}\n          margin=\"normal\"\n        />\n        <Button\n          variant=\"contained\"\n          color=\"primary\"\n          onClick={checkSite}\n          disabled={!validator.isURL(conf.wpSite)}\n        >\n          {t('connect')}\n        </Button>\n      </div>\n      {conf.loading && <Waiting {...{t}}/>}\n      {conf.err && <p className=\"error\">{`${t('error')}: ${conf.err}`}</p>}\n      {conf.posts && <Dates {...{ conf, setConf, selectPostsByDateAndCategory, t, i18n }} />}\n      {conf.categories && <Categories {...{ conf, setConf, selectPostsByDateAndCategory, t }} />}\n      {conf.tags && <Tags {...{ conf, setConf, selectPostsByDateAndCategory, t }} />}\n      {conf.posts && <Posts {...{ conf, countUrls, t }} />}\n      {conf.pages && <Pages {...{ conf, countUrls, t }} />}\n      {conf.categories && <CarouselOptions {...{ conf, setConf, t }} />}\n    </Paper>\n  );\n}\n\nexport default Settings;\n","import React from 'react';\n\nfunction Header(props) {\n  const { t, i18n } = props;\n\n  function Lang(props) {\n    const { language, code } = props;\n    return <li\n      onClick={() => i18n.changeLanguage(code)}\n      className={code === i18n.language ? 'curLang' : ''}\n      title={language}\n    >\n      {code}\n    </li>\n  }\n\n  return (\n    <header className=\"head\">\n      <nav className=\"langSelector\">\n        <ul>\n          <Lang language=\"català\" code=\"ca\" />\n          <Lang language=\"español\" code=\"es\" />\n          <Lang language=\"English\" code=\"en\" />\n        </ul>\n      </nav>\n      <h2><img src=\"ico/icon64.png\" alt=\"Logotip\" className=\"logo\" />{t('title')}</h2>\n      <p>{t('desc1')}</p>\n      <p>{t('desc2')}</p>\n      <p>{t('desc3')}</p>\n      <p>{t('desc4')}</p>\n    </header>\n  );\n}\n\nexport default Header;","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport PlayArrow from '@material-ui/icons/PlayArrow'\nimport SaveIcon from '@material-ui/icons/SaveAlt';\n\nfunction ActionButtons(props) {\n\n  const { conf, saveSettings, i18n, t, getUrls, setPlaying } = props;\n\n  const exportToFile = () => {\n    saveSettings();\n    const fileName = 'show.html';\n    const content = `<!DOCTYPE html>\n<html lang=\"${i18n.language}\">\n<head>\n  <meta charset=\"utf-8\" />\n  <title>Page Carousel</title>\n  <meta name=\"description\" content=\"Generated with WP-Show\"/>\n  <meta name=\"url\" content=\"http://projectestac.github.io/wpshow/\"/>\n</head>\n<body style=\"padding:0;margin:0\">\n  <div style=\"width:100%;height:100vh;margin:0;padding:0;overflow:hidden;\">\n    <iframe src=\"\" style=\"width:100%;height:100%;\" name=\"view\" title=\"Page view\" allowFullScreen=\"true\"\n      onLoad=\"window.scrollTo(0, 0)\">\n      <p>Your browser does not support iframes!</p>\n    </iframe>\n  </div>\n  <script>\n    const urls = ${JSON.stringify(getUrls()).replace(/\",\"/g, '\",\\n      \"')};\n    const interval = ${conf.interval};\n    let currentPage = 0;\n    const iframe = document.querySelector('iframe');\n    iframe.setAttribute('src', urls[0]);\n    window.setInterval(() => {\n      currentPage = (currentPage + 1) % urls.length;\n      iframe.setAttribute('src', urls[currentPage]);\n    }, interval * 1000);\n  </script>\n</body>\n</html>`;\n\n    const blob = new Blob([content], { type: 'text/html;charset=utf-8;' });\n    if (navigator.msSaveBlob) { // IE 10+\n      navigator.msSaveBlob(blob, fileName);\n    } else {\n      var link = document.createElement(\"a\");\n      if (link.download !== undefined) { // feature detection\n        // Browsers that support HTML5 download attribute\n        var url = URL.createObjectURL(blob);\n        link.setAttribute(\"href\", url);\n        link.setAttribute(\"download\", fileName);\n        link.style.visibility = 'hidden';\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n      }\n    }\n  }\n\n  // Set the `playing` value to true \n  const play = () => {\n    saveSettings();\n    setPlaying(true);\n  }\n\n  return (\n    <div className=\"playBtn\">\n      <Button\n        variant=\"contained\"\n        color=\"primary\"\n        onClick={exportToFile}\n        disabled={conf.numUrls === 0}\n      >\n        {t('export')}\n        <SaveIcon className=\"leftIcon\" />\n      </Button>\n\n      <Button\n        variant=\"contained\"\n        color=\"primary\"\n        onClick={play}\n        disabled={conf.numUrls === 0}\n      >\n        {t('start')}\n        <PlayArrow className=\"leftIcon\" />\n      </Button>\n    </div>\n  );\n}\n\nexport default ActionButtons;\n","import React from 'react';\nimport { title, version, repository, license } from '../../package.json';\n\nfunction Footer({ t }) {\n  return (\n    <footer className=\"foot\">\n      <p>\n        <a href={repository.url}>{title} v{version}</a><br />\n        <a href=\"http://www.xtec.cat\">{t('copyright')}</a><br />\n        <a href={`https://spdx.org/licenses/${license}.html`}>{t('license')} {license}</a><br />\n        <a href={repository.url}>{repository.url}</a>\n      </p>\n    </footer>\n  );\n}\n\nexport default Footer;","import React, { useState } from 'react';\nimport './App.css';\nimport i18n from './i18n';\nimport { useTranslation } from 'react-i18next';\nimport fetchJsonp from 'fetch-jsonp';\nimport PageCarousel from './components/PageCarousel';\nimport Settings from './components/Settings';\nimport Header from './components/Header';\nimport ActionButtons from './components/ActionButtons';\nimport Footer from './components/Footer';\n\n\nconst STORED_VALUES = JSON.parse(localStorage.getItem('wpShow') || '{}');\n\n/**\n * Main stateles component \n */\nfunction App() {\n\n  const { t } = useTranslation();\n\n  // Hook with miscellaneous state variables\n  const [conf, setConf] = useState({\n    wpSite: STORED_VALUES.wpSite || '',\n    interval: STORED_VALUES.interval || 10,\n    ready: false,\n    err: null,\n    loading: false,\n    categories: null,\n    tags: null,\n    pages: null,\n    posts: null,\n    dateFrom: new Date(STORED_VALUES.from || Date.now()),\n    dateTo: new Date(STORED_VALUES.to || Date.now()),\n    dateFirst: new Date(),\n    includeCategoryPages: !(STORED_VALUES.includeCategoryPages === false),\n    includeTagPages: STORED_VALUES.includeTagPages === true,\n    randomOrder: !(STORED_VALUES.randomOrder === false),\n    numUrls: 0,\n  });\n\n  // Specific hook for 'playing'\n  const [playing, setPlaying] = useState(false);\n\n  // Always check if fetch responses have the 'ok' attribute \n  const handleFetchErrors = (response) => {\n    if (!response.ok)\n      throw Error(response.statusText || 'Error desconegut');\n    return response;\n  }\n\n  // Obtain information from the WordPress site fetching multiple API services\n  const checkSite = () => {\n\n    // Remove trailing slashes, if any\n    let base = conf.wpSite;\n    while (base.endsWith('/'))\n      base = base.substr(0, base.length - 1);\n\n    // Set the `loading` flag and reset conf to default values\n    setConf({\n      ...conf,\n      wpSite: base,\n      err: null,\n      loading: true,\n      categories: null,\n      pages: null,\n      posts: null,\n      numUrls: 0,\n    });\n\n    // Initialize main arrays and launch API queries\n    let categories = [], tags = [], posts = [], pages = [];\n    Promise.all([\n      apiQuery(base, 'categories', ['id', 'link', 'name', 'count'], categories),\n      apiQuery(base, 'tags', ['id', 'link', 'name', 'count'], tags),\n      apiQuery(base, 'pages', ['id', 'link', 'modified', 'type', 'status', 'title'], pages),\n      apiQuery(base, 'posts', ['id', 'link', 'modified', 'type', 'status', 'title', 'categories', 'tags'], posts),\n    ])\n      .then(() => {\n        if (categories.length === 0)\n          throw new Error(\"No s'ha trobat cap categoria! Podria ser que l'adreça fos incorrecta, que ara mateix no estigui funcionant o que no es tracti d'un lloc WordPress\");\n\n        // Select only categories and tags with at least one post, and sort them alphabetically\n        categories = categories.filter(cat => cat.count > 0).sort((a, b) => a.name < b.name ? -1 : 1);\n        tags = tags.filter(tag => tag.count > 0).sort((a, b) => a.name < b.name ? -1 : 1);\n\n        // Clear stored values if 'wpSite' has changed\n        if (base !== STORED_VALUES.wpSite)\n          Object.assign(STORED_VALUES, { categories: [], tags: [], pages: [], posts: [] });\n\n        // Set the initial `selected` state for all items\n        const sss = [STORED_VALUES.categories, STORED_VALUES.tags, STORED_VALUES.pages, STORED_VALUES.posts];\n        [categories, tags, pages, posts].forEach((set, i) => set.forEach(el => el.selected = sss[i].includes(el.id)));\n\n        // Convert the 'modified' string to Date objects, and find the oldest one\n        let firstDate = new Date();\n        [pages, posts].forEach(set => {\n          set.forEach(el => {\n            el.modified = new Date(el.modified)\n            if (el.modified < firstDate)\n              firstDate = el.modified;\n          });\n          set.sort((a, b) => {\n            return a.modified > b.modified ? -1\n              : a.modified < b.modified ? 1\n                : a.title < b.title ? -1 : 1;\n          });\n        });\n\n        // Move `firstDate` back one day\n        let from = STORED_VALUES.from || firstDate - 24 * 60 * 60 * 1000;\n\n        // Set inRange flag to `true` for all published posts and plages\n        posts.forEach(post => post.inRange = post.type === 'post' && post.status === 'publish' && post.modified >= from);\n        pages.forEach(page => page.inRange = page.type === 'page' && page.status === 'publish');\n\n        // Unset `loading` and save the new state\n        const { includeCategoryPages, includeTagPages } = conf;\n        setConf({\n          ...conf,\n          loading: false,\n          categories, tags, pages, posts,\n          dateFirst: new Date(firstDate),\n          dateFrom: new Date(from),\n          dateTo: new Date(),\n          numUrls: doCountUrls({ pages, posts, categories, tags, includeCategoryPages, includeTagPages }),\n          err: null,\n        });\n\n      })\n      .catch(err => {\n        console.log(`Error fetching data: ${err.message}`);\n        setConf({ ...conf, loading: false, err: err.message });\n      })\n  }\n\n  // Query the WordPress REST API obtaining all the information related to one type of data\n  // Results are obtained with paginated calls using the max size (100 records per call)\n  // and requesting only specific fields \n  const apiQuery = (base, query, fields, result = [], pageSize = 100, page = 0, pages = 1) => {\n    // Build the API URL\n    const url = `${base}/wp-json/wp/v2/${query}/?page=${++page}&per_page=${pageSize}&_envelope=1&${fields.map(f => `_fields[]=${f}`).join('&')}`;\n\n    console.log(`Fetching page ${page}/${pages} of ${url}`);\n\n    // If there are more pages, prepare a recursive call to get more data\n    // Return `result` otherwise\n    const next = () => page < pages\n      ? apiQuery(base, query, fields, result, pageSize, page, pages)\n      : result;\n\n    // Avoid CORS issues fetching the API in JSONP mode\n    return fetchJsonp(url, {\n      jsonpCallback: '_jsonp',\n      timeout: 7000,\n    })\n      .then(response => handleFetchErrors(response))\n      .then(response => response.json())\n      .then(data => {\n        // Read the total number of pages\n        if (data.headers && data.headers['X-WP-TotalPages'])\n          pages = data.headers['X-WP-TotalPages'];\n        if (data.body)\n          result.push(...data.body);\n        // This will return `result` or just a promise call to the next page of results\n        return next();\n      })\n      .catch(err => {\n        console.log(`Error fetching page ${page} of ${query}: ${err}`);\n        // Make the API call tolerant to errors, returning always the accumulated result\n        return next();\n      });\n  }\n\n  // Mark as selected posts created or updated between the specified dates, and\n  // related to at least one selected category  \n  const selectPostsByDateAndCategory = (dateFrom = conf.dateFrom, dateTo = conf.dateTo, posts = conf.posts, updateConf = true) => {\n\n    // Get the ids of selected categories\n    //const activeCategories = [], activetags=[];\n    const activeCategories = conf.categories.filter(cat => cat.selected).map(cat => cat.id);\n    const activeTags = conf.tags.filter(tag => tag.selected).map(tag => tag.id);\n\n    // Select or unselect posts based on its date and categories\n    posts.forEach(post => {\n      const { categories, tags, modified, type, status } = post;\n      post.inRange = modified >= dateFrom && modified <= dateTo && type === 'post' && status === 'publish';\n      post.selected = post.inRange && (\n        categories.map(cat => activeCategories.includes(cat)).includes(true) ||\n        tags.map(tag => activeTags.includes(tag)).includes(true)\n      );\n    });\n\n    // Update dates and clear the error flag, if set\n    if (updateConf)\n      setConf({ ...conf, dateFrom, dateTo, err: null, numUrls: countUrls(false) });\n  }\n\n  // Get the final list of URLs used in the carousel, maybe randomized\n  const getUrls = () => {\n    const { posts, pages, categories, tags, includeCategoryPages, includeTagPages, randomOrder } = conf;\n    const urls = [];\n    urls.push(...posts.filter(post => post.selected).map(post => post.link));\n    urls.push(...pages.filter(page => page.selected).map(page => page.link));\n    if (includeCategoryPages)\n      urls.push(...categories.filter(cat => cat.selected).map(cat => cat.link));\n    if (includeTagPages)\n      urls.push(...tags.filter(cat => cat.selected).map(cat => cat.link));\n\n    return randomOrder ? shuffle(urls) : urls;\n  }\n\n  // Count the current number of valid URLs\n  const countUrls = (updateConf = true) => {\n    const numUrls = doCountUrls(conf);\n    if (updateConf)\n      setConf({ ...conf, numUrls });\n    return numUrls;\n  }\n\n  const doCountUrls = ({ pages, posts, categories, tags, includeCategoryPages, includeTagPages }) => {\n    return pages.filter(page => page.selected).length\n      + posts.filter(post => post.selected).length\n      + (includeCategoryPages ? categories.filter(cat => cat.selected).length : 0)\n      + (includeTagPages ? tags.filter(tag => tag.selected).length : 0);\n  }\n\n  // Shuffle the provided array using the Fisher-Yates (aka Knuth) algorithm\n  // See: https://stackoverflow.com/questions/2450954/how-to-randomize-shuffle-a-javascript-array\n  const shuffle = array => {\n    let currentIndex = array.length;\n    // While there remain elements to shuffle...\n    while (0 !== currentIndex) {\n      // Pick a remaining element...\n      const randomIndex = Math.floor(Math.random() * currentIndex);\n      currentIndex -= 1;\n      // And swap it with the current element.\n      let temporaryValue = array[currentIndex];\n      array[currentIndex] = array[randomIndex];\n      array[randomIndex] = temporaryValue;\n    }\n    return array;\n  }\n\n  const saveSettings = () => {\n    // Update the `STORED_VALUES` object\n    Object.assign(STORED_VALUES, {\n      wpSite: conf.wpSite,\n      interval: conf.interval,\n      from: conf.dateFrom.getTime(),\n      to: conf.dateTo.getTime(),\n      includeCategoryPages: conf.includeCategoryPages,\n      includeTagPages: conf.includeTagPages,\n      randomOrder: conf.randomOrder,\n      categories: conf.categories.filter(e => e.selected).map(e => e.id),\n      tags: conf.tags.filter(e => e.selected).map(e => e.id),\n      pages: conf.pages.filter(e => e.selected).map(e => e.id),\n      posts: conf.posts.filter(e => e.selected).map(e => e.id),\n    });\n\n    // Save settings in browser's local storage\n    localStorage.setItem('wpShow', JSON.stringify(STORED_VALUES));\n  }\n\n  // Main content\n  return (\n    <div className=\"App\">\n      {!playing &&\n        <div>\n          <Header {...{ t, i18n }} />\n          <Settings {...{ conf, setConf, checkSite, selectPostsByDateAndCategory, countUrls, t, i18n }} />\n          <ActionButtons {...{ conf, saveSettings, i18n, t, getUrls, setPlaying }} />\n          <Footer {...{ t }} />\n        </div>\n      }\n      {playing &&\n        <PageCarousel urls={getUrls()} interval={conf.interval} />\n      }\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}